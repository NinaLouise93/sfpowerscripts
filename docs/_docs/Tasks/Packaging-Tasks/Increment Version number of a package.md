---
title: Increment Version Number of a package
category: Packaging Tasks
order: 8
---

This task is used to increment the version number of the package version provided in sfdx-project.json for either an unlocked package or an org based deployment. Use the version number generated by this task as input to the Create Package tasks, if you want the package number to be incremented during every package build

**Task Snapshot**

&nbsp;

**![](/images/Increments Version Number of a package.png){: width="864" height="569"}**

**Task Version and Details**

id: sfpwowerscript-incrementversionnumber-task

version: 5.0.2

**Input Variables&nbsp; - Visual Designer Labels (Yaml variables)**

* **Increment which segment of the version(segment)**

  Select the segment of the version number that needs to be incremented, Possible values are BuildNumber, Patch, Minor, Major

* **Set the build segment of the version number to the build number rather than incremenenting(appendBuildNumber)**
Check this flag, if you want to append the build number rather than incrementing it.


* **Set the pipeline's build number to the the project's incremented version number" (set\_build\_number)**

Check this flag, if the pipeline's build number to be updated with the incremented version,so its easy to undertand the job in Azure Pipelines


* **Name of the package (package)**

  The name of the package on which the version needs to be created, if ingored, the default package mentioned in sfdx-project.json will be utilized

* **SFDX Project directory that needs to be deployed (project\_directory)**

  Leave it blank if the sfdx-project.json is in the root of the repository, else provide the folder directory containing the sfdx-project.json


* **Create a commit of incremented sfdx-project.json (commit\_changes)**

  Check this flag, if you need the incremented version in sfdx=project.json to be committed back to the repo. Please not this only does the commit it doesnt do the Push yet


* **Push incremented version changes to the repository (pushchanges)**
 
   Check this flag, if you need to push the incremented version back to the repostiory. This taks only supports HTTPS based repositories that has a PAT based authentication mechanism. Service Credential based authentication is supported for Github, Github enterprise, Bitubcket Cloud


The below inputs are eanbled only when the "Push Incremented Version changes to the repository" is eanbled.

* **Select a condtion for pushing the incremented version (pushoption)**
 
   Select the approprate condiation for the version increment to be pushed to repostory. The options are "Only if  All subsequent tasks succeeded" (onSucces) and "Even if subsequent tasks fails" (onFailure). OnSuccess will only push the changes if all subsequent tasks are successfull, while onFaiure will push to the repository even if any of the subsequent tasks fail.


* **Select the version control provider(versionControlProvider)**

  The version control provider that hosts the particular repo. The available options are Github (github), GitHub Enterprise (githubEnterprise), BitBucket Cloud (bitbucket), Azure Repo (azureRepo), Other Git (otherGit).

  Following are the connection types supported and have to be assigned for this command to work

  * **GitHub Connection(github\_connection)**

  Select the corresponding Github service connection from the dropdown (in the classic mode) or set the variable with appropriate connection name if used in a Yaml pipeline. Read more instruction on using connectedService [here](https://docs.microsoft.com/en-us/azure/devops/pipelines/library/service-endpoints?view=azure-devops&amp;tabs=yaml)

  * **GitHub Enterprise Connection(github\_enterprise\_connection)**

  Select the corresponding Github Enterprise service connection from the dropdown (in the classic mode) or set the variable with appropriate connection name if used in a Yaml pipeline. Read more instruction on using connectedService [here](https://docs.microsoft.com/en-us/azure/devops/pipelines/library/service-endpoints?view=azure-devops&amp;tabs=yaml)

  * **Bitbucket Connection(bitbucket\_connection)**

  Select the corresponding Bitbucket cloud service connection from the dropdown (in the classic mode) or set the variable with appropriate connection name if used in a Yaml pipeline. Read more instruction on using connectedService [here](https://docs.microsoft.com/en-us/azure/devops/pipelines/library/service-endpoints?view=azure-devops&amp;tabs=yaml)

  * **Azure Repo (azureRepo)**

  If azure Repo is selected, the agent has to have the setting 'Allow Script to access OAuth Token' activated in the Agent Job settings, so that the task can access $(System.AccessToken) Variable and checkout the code
  * **Other Git (otherGit)**

  If your repo is none of the above, then utilize this selection to pass in the username/password for a basic authentication schema to checkout the corresponding code. If this mode is selected please fill in Username (username) and Password (password) to push to  the repository\`

* **Send Anonymous Usage Telemetry (isTelemetryEnabled)**

   Enable this flag to send anonymous usage telemetry to track usage and bring further improvements to this task



**Output Variables**

* **sfpowerscripts\_incremented\_project\_version**

The output version as a result of running this task

**Control Options**

None

**Gotcha's**

&nbsp;

**Changelog**

* 5.0.2 Bugfix for [#119](https://github.com/azlamsalam/sfpowerscripts/issues/119)
* 5.0.1 Support for appending the build number, rather than incremening it based on the last build number
* 4.0.0 Support for post increment, push the commited changes to repository 
* 2.0.2 Updated with Telemetry
* 1.9.0 Initial Version