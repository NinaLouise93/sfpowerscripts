{
  "variables": {
    "system.debug": {
      "value": "false",
      "allowOverride": true
    }
  },
  "properties": {},
  "tags": [],
  "_links": "{}",
  "jobAuthorizationScope": "projectCollection",
  "jobTimeoutInMinutes": 60,
  "jobCancelTimeoutInMinutes": 5,
  "process": {
    "phases": [
      {
        "steps": [
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Install SFDX",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "037eed85-ad5a-4f7f-9228-69c8e685b36a",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "sfdx_cli_version": "latest",
              "sfpowerkit_version": "latest"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Validates force-di for MetadataCoverage",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "243a2f4e-c997-42f1-9ac8-5f8a18915c86",
              "versionSpec": "2.*",
              "definitionType": "task"
            },
            "inputs": {
              "package": "force-di",
              "bypass": "",
              "working_directory": ""
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Authenticate  HubOrg using Credentials",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "5c1fd528-ce06-42e2-855b-cfa9e07dc6b9",
              "versionSpec": "3.*",
              "definitionType": "task"
            },
            "inputs": {
              "method": "Credentials",
              "jwt_key_file": "",
              "username": "$(prod.user)",
              "password": "sf123@acn",
              "securitytoken": "nfljFErhOIiu6dCHEJnxnhEmC",
              "alias": "HubOrg",
              "isdevhub": "true",
              "clientid": ""
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Create a Scratch Org",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "6e90f9bd-f53a-45ce-9a9c-1b8a6ed797c0",
              "versionSpec": "2.*",
              "definitionType": "task"
            },
            "inputs": {
              "action": "Create",
              "config_file_path": "config/project-scratch-def.json",
              "alias": "scratchorg",
              "target_org": "scratchorg",
              "devhub_alias": "HubOrg",
              "working_directory": ""
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Deploy force-di to scratchorg",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "dea3a185-c3f5-44a8-841b-1e5044864778",
              "versionSpec": "2.*",
              "definitionType": "task"
            },
            "inputs": {
              "target_org": "scratchorg",
              "project_directory": "",
              "source_directory": "force-di",
              "checkonly": "true",
              "wait_time": "20",
              "validation_ignore": ".forceignore",
              "testlevel": "NoTestRun",
              "specified_tests": "",
              "apextestsuite": ""
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Trigger Apex Tests in scratchorg",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "2f57114d-c08b-4014-96d7-a8981a2dae9b",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "target_org": "scratchorg",
              "testlevel": "RunLocalTests",
              "specified_tests": "",
              "apextestsuite": "",
              "wait_time": "60"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Validate  Apex Tests  Coverage for  80 % in scratchorg",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "b8c4c0f6-7a50-4dc1-b1cd-495914fc1384",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "target_org": "scratchorg",
              "test_coverage": "80"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Delete a Scratch Org",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "6e90f9bd-f53a-45ce-9a9c-1b8a6ed797c0",
              "versionSpec": "2.*",
              "definitionType": "task"
            },
            "inputs": {
              "action": "Delete",
              "config_file_path": "config/project-scratch-def.json",
              "alias": "scratchorg",
              "target_org": "scratchorg",
              "devhub_alias": "HubOrg",
              "working_directory": ""
            }
          }
        ],
        "name": "Agent job 1",
        "refName": "Job_1",
        "condition": "succeeded()",
        "target": {
          "executionOptions": {
            "type": 0
          },
          "allowScriptsAuthAccessOption": false,
          "type": 1,
          "queue": "{}"
        },
        "jobAuthorizationScope": "projectCollection"
      }
    ],
    "target": {
      "agentSpecification": {
        "identifier": "ubuntu-16.04"
      }
    },
    "type": 1
  },
  "repository": {
    "properties": {
      "apiUrl": "https://api.github.com/repos/azlamsalam/force-di",
      "branchesUrl": "https://api.github.com/repos/azlamsalam/force-di/branches",
      "cloneUrl": "https://github.com/azlamsalam/force-di.git",
      "connectedServiceId": "$GitHub_1dd87ce0$",
      "defaultBranch": "master",
      "fullName": "repository",
      "hasAdminPermissions": "True",
      "isFork": "True",
      "isPrivate": "False",
      "lastUpdated": "09/06/2019 01:20:04",
      "manageUrl": "https://github.com/azlamsalam/force-di",
      "nodeId": "MDEwOlJlcG9zaXRvcnkyMDY2ODYzODk=",
      "ownerId": "15088656",
      "orgName": "azlamsalam",
      "refsUrl": "https://api.github.com/repos/azlamsalam/force-di/git/refs",
      "safeRepository": "azlamsalam/force-di",
      "shortName": "force-di",
      "ownerAvatarUrl": "https://avatars1.githubusercontent.com/u/15088656?v=4",
      "archived": "False",
      "externalId": "206686389",
      "ownerIsAUser": "True",
      "checkoutNestedSubmodules": "false",
      "cleanOptions": "0",
      "fetchDepth": "0",
      "gitLfsSupport": "false",
      "reportBuildStatus": "true",
      "skipSyncSource": "false",
      "labelSourcesFormat": "$(build.buildNumber)",
      "labelSources": "0"
    },
    "id": "azlamsalam/force-di",
    "type": "Git",
    "name": "repository",
    "url": "https://github.com/azlamsalam/force-di.git",
    "defaultBranch": "master",
    "clean": "false",
    "checkoutSubmodules": false
  },
  "processParameters": {},
  "quality": "definition",
  "authoredBy": "{}",
  "drafts": [],
  "queue": {
    "_links": "{}",
    "id": "",
    "name": "Azure Pipelines",
    "url": "",
    "pool": {
      "id": "",
      "name": "Azure Pipelines",
      "isHosted": true
    }
  },
  "id": "",
  "name": "PR Source Format [Scratch Orgs] using sfpowerscripts",
  "url": "",
  "uri": "",
  "path": "\\",
  "type": "build",
  "queueStatus": "enabled",
  "revision": 5,
  "createdDate": "",
  "project": "{}"
}